# Roguelike

![roguelike/roguelike.svg](roguelike.svg)

# Выполнили
1. [Киселёв Михаил, 21.Б07-мм](https://github.com/true-real-michael)
2. [Громова Арабелла, 21.Б10-мм](https://github.com/rongirl)
3. [Житнухина Мария, 21.Б10-мм](https://github.com/zhitm)

# Модули
- `GameCommands`. Отвечает за команды, которые может получать игра.
    - `IMobCommand` --- команды, которые может отрпавлять моб: `GoUp`, `GoDown`, `GoLeft`, `GoRight`.
    - `IUserCommand` --- команды, которые может отрпавлять пользователь. Те же + `Pause`.
- `Input`. Отвечает за пользовательский ввод и преобразование его в объекты `IUserCommand`
    - `KeyboardInputEvent` --- событие на клавиатуре.
    - `EventQueue` --- очередь событий.
    - `InputService` --- при вызове `get_input()` возвращает `Option<IUserCommand>`.
- `Graphics`. Отвечает за отрисовку графики
    - `Renderable` --- интерфейс, который наследуют классы, которые можно отобразить.
    - `Canvas` --- пространство, на котором каждый `Renderable` объект себя отрисовывает.
- `Items`. Подбираемые объекты
    - `Item` --- интерфейс, его наследуют интерфейсы `Equipable` и `Spendalbe`, которых в свою очередь наследуют конкретные item'ы
    - `EquipableItemFactory`, `SpendableItemFactory` --- фабрики двух типов `Item`
    - `ItemOnMap` --- объект на карте, хранит координаты.
- `Mobs`. Мобы
    - `MobState` --- состояние моба: пассивное, атакующее, убегающее.
    - `MobStrategy` --- стратегии моба, применяются в зависимости от состояния.
    - `Mob` --- моб, бывает трех типов, имеет характеристики: текущий уровень здоровья, максимальный уровень здоровья, скорость регенерации, сила атаки.
- `Level`. Уровень игры
    - `Map` --- карта, состоит из тайлов (`Tile`), которые характеризуются символом и цветом отрисовки
    - `Level` --- уровень. Имеет монстров и предметы, раскиданные по карте.
- `Game`. Игра
    - `Player` --- игрок. Имеет характеристики, а также spendable и equipable предметы.
    - `GameProcess` --- игра, обращается к `InputService` для получения команды от пользователя, применяет команду. В слуаче, если на целевом тайле находится моб, вызывает `InteractionService.handle_user_interaction()` для подсчета урона обоим сторонам. Далее получает команды от мобов, и в случае необходимости вызывает `InteractionService.handle_mob_interaction()`. Далее отрисовывает текущее состояние игры с помощью `Canvas`.
    - `InteractionService` подсчитывает характеристики моба и игрока после нападения одного на другого.
- `Main` --- запускает игру.
